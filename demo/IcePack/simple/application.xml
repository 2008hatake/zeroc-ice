<!--
 **********************************************************************

 Copyright (c) 2003-2005 ZeroC, Inc. All rights reserved.

 This copy of Ice is licensed to you under the terms described in the
 ICE_LICENSE file included in this distribution.

 **********************************************************************
-->

<icepack>

  <application name="Simple">

     <node name="node">

       <!-- First, we deploy the regular server --> 
       <server name="Server" kind="cpp" exe="./server" activation="on-demand">
 
         <adapters>
           <adapter name="Hello" endpoints="tcp:udp:ssl" register="true">
             <object identity="hello1" type="::Demo::Hello"/>
           </adapter>
         </adapters>
  
         <properties>
	   <property name="Identity" value="hello1"/>
           <property name="Ice.Plugin.IceSSL" value="IceSSL:create"/>
           <property name="IceSSL.Server.CertPath" value="../../../certs"/>
           <property name="IceSSL.Server.Config" value="sslconfig.xml"/>
         </properties>
       </server>
 
       <!-- Then, we deploy the IceBox server which will instantiate the HelloService service -->
       <server name="IceBox" kind="cpp-icebox" endpoints="default" activation="on-demand">

         <service name="Hello" entry="HelloService:create">
           <adapters>
             <adapter name="Hello" endpoints="tcp:udp:ssl">
               <object identity="hello2" type="::Demo::Hello"/>
             </adapter>
           </adapters>

           <properties>
             <property name="Identity" value="hello2"/>
           </properties>    
         </service>

         <properties>
           <property name="IceBox.UseSharedCommunicator.Hello" value="1"/>
           <property name="Ice.Plugin.IceSSL" value="IceSSL:create"/>
           <property name="IceSSL.Server.Config" value="sslconfig.xml"/>
           <property name="IceSSL.Server.CertPath" value="../../../certs"/>
         </properties>
 
       </server>

     </node>

  </application>

</icepack>
